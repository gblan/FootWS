<?xml version="1.0" encoding="UTF-8" ?>
<!-- Script ANT de dÃ©ploiement pour ServiceMix -->
<project name="FootWS" default="all" basedir=".">
	<property name="work" value="${basedir}" />
	<property name="bundle" value="${ant.project.name}" />

	<target name="all" depends="package" />

	<target name="clean" description="delete temporary files/directory">
		<delete dir="${work}/${bundle}" />
	</target>
	
	<target name="init" description="create temporary directory">
		<mkdir dir="${work}/${bundle}" />
	</target>
	
	<target name="package" depends="clean,init">
		<copy todir="${work}/${bundle}" overwrite="true" >
			<fileset dir="bin" >
				<!-- ONLY THE SERVICE -->
				<exclude name="et5/client/**"/>
				<exclude name="example/**" />				
			</fileset>
		</copy>
		<copy todir="${work}/${bundle}/OSGI-INF" overwrite="true">
			<fileset dir="OSGI-INF" />
		</copy>
		<jar destfile="${work}/${bundle}-service.jar" basedir="${work}/${bundle}">
			<manifest>
				<attribute name="Bundle-ManifestVersion" value="2.0" />
				<attribute name="Bundle-Name" value="${bundle}" />
				<attribute name="Bundle-SymbolicName" value="${bundle}" />
				<attribute name="Bundle-Version" value="1.0.0.0" />
				<attribute name="DynamicImport-Package" value="*" />
			</manifest>
		</jar>
		<antcall target="clean"></antcall>
	</target>

</project>